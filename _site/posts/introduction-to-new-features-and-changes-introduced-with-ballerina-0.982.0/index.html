<html lang="en">

<head>
   <!-- Required meta tags -->
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

   <!-- Bootstrap CSS -->


   <title>Ballerina Blog - Introduction to New Features and Changes Introduced with Ballerina 0.982.0</title>

   

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="WSO2, Inc.">
<meta name="keywords" content="" />
<link rel="shortcut icon" href="/img/favicon.ico">
<title>Introduction to New Features and Changes Introduced with Ballerina 0.982.0</title>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92163714-2"></script>
<!--FB-->
<meta property="og:type"               content="article" />
<meta property="og:title"              content="Ballerina - Introduction to New Features and Changes Introduced with Ballerina 0.982.0" />
<meta property="og:description"        content="" />
<meta property="og:image"              content="/blog-images/pexels-photo-206274.jpeg" />
<!--TWITTER-->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@ballerinalang">
<meta name="twitter:creator" content="@ballerinalang">
<meta name="twitter:title" content="Ballerina">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="/img/pexels-photo-206274.jpeg">
<meta name="twitter:text:description" content="">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image:width" content="610">
<!--LINKED IN  -->
<meta property='og:title' content="Ballerina"/>
<meta property='og:image' content="/blog-images/pexels-photo-206274.jpeg"/>
<meta property='og:description' content=""/>
<script>
   window.dataLayer = window.dataLayer || [];
   function gtag() {
       dataLayer.push(arguments);
   }
   gtag('js', new Date());
   gtag('config', 'UA-92163714-2');
</script>
<!-- Google Tag Manager -->
<script>
   (function(w, d, s, l, i) {
       w[l] = w[l] || [];
       w[l].push({
           'gtm.start': new Date().getTime(),
           event: 'gtm.js'
       });
       var f = d.getElementsByTagName(s)[0],
           j = d.createElement(s),
           dl = l != 'dataLayer' ? '&l=' + l : '';
       j.async = true;
       j.src =
           'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
       f.parentNode.insertBefore(j, f);
   })(window, document, 'script', 'dataLayer', 'GTM-PSL2TX4');
</script>
<!-- End Google Tag Manager -->
<script src="/js/moment-2.22.0/moment.min.js"></script>
<script src="//code.jquery.com/jquery-3.3.1.min.js"></script>









<!-- Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i&display=swap" rel="stylesheet">



<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>



<link rel="stylesheet" href="/css/ballerina-blog.css" >






</head>

<body>
<section>
   <div class="container">
      <div class="row ">
         <div class="col-sm-12 col-md-12">
            

<nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="https://ballerina.io/"><img src="/img/ballerina-logo.svg"/></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div id="navbarNavDropdown" class="navbar-collapse collapse">
            <ul class="navbar-nav mr-auto">
                <!-- <li class="nav-item active">
                    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Features</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Pricing</a>
                </li> -->

            </ul>
            <ul class="navbar-nav">
           
                <li class="nav-item " id="learnli">
                    <a class="nav-link" href="https://ballerina.io/learn">Learn </a>
                </li>
                <li class="nav-item" id="Eventsli">
                    <a class="nav-link" href="https://ballerina.io/learn/events">Events</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://central.ballerina.io/" target="_blank">Central</a>
                </li>
                <li class="nav-item" id="openli">
                    <a class="nav-link" href="https://ballerina.io/community">Community</a>
                </li>
                <li class="nav-item active" id="helpli">
                    <a class="nav-link" href="/">Blog</a>
                </li>
            </ul>
        </div>
    </nav>

         </div>
        
      </div>
   </div>
</section>


<section class="cPageContent">
   <div class="container">
      <div class="row cBallerinaBlogBody">
         <div class="col-sm-12 col-md-8">
            <div class="cBlogInfo">
               <p class="cDate">08 October 2018</p>
               <h1>Introduction to New Features and Changes Introduced with Ballerina 0.982.0</h1>
               <p class="cAuthor">Maryam Ziyad Mohamed</p>
            </div>
             </div>
             <div class="col-sm-12 col-md-8 cBlogContent">
               <p>The Ballerina 0.982.0 release includes new features, improvements and bug fixes including introduction of the new <code class="highlighter-rouge">channel</code> type, changes to the <code class="highlighter-rouge">main</code> function, improvements to records and objects, and support for HTTP 1.1 piplelining.</p>

<p>An initial version of the Ballerina Native feature that allows simple Ballerina programs with the <code class="highlighter-rouge">main</code> function to be compiled into native executables, is also introduced with this release.</p>

<h2 id="language--runtime">Language &amp; Runtime</h2>

<h3 id="introduction-of-the-channel-type">Introduction of the Channel Type</h3>

<p>The <code class="highlighter-rouge">channel</code> constrained type is introduced for communication between parallel processes in Ballerina programs. 
A <code class="highlighter-rouge">channel</code> can be defined only as a top level node. Channels can be used for message correlation by sending and receiving messages via different resources to the same channel. 
Channels can also be used for inter-worker communication and worker synchronization.</p>

<p><strong>Defining a channel constrained by the <code class="highlighter-rouge">json</code> type</strong></p>

<pre><code class="language-ballerina">channel&lt;json&gt; jsonChannel; 
</code></pre>

<p><strong>Sending a message to the channel</strong></p>

<pre><code class="language-ballerina"># One of the receivers waiting on `key` receives the message.
# If there is no receiver, the message is stored and execution continues.
# A receiver can arrive later and fetch the message.
message -&gt; jsonChannel, key; 
</code></pre>

<p><strong>Receiving a message from the channel with the given key</strong></p>

<pre><code class="language-ballerina"># Execution waits here if the message is not available.
json result &lt;- jsonChannel, key;
</code></pre>

<h3 id="introduction-of-abstract-objects">Introduction of Abstract Objects</h3>

<p>An abstract object is identified by the <code class="highlighter-rouge">abstract</code> keyword. Abstract objects only describe the type of each field and method, they do not describe the implementation of methods. 
An abstract object type should not have an object constructor method and cannot be initialized using the object initializer. Abstract objects do not have an implicit initial value.</p>

<pre><code class="language-ballerina">public type Foo abstract object {
    public string name;
    public int id;

    function getName() returns string;

    function getID() returns int;
};
</code></pre>

<h3 id="introduction-of-record-iteration-support">Introduction of Record Iteration Support</h3>

<p>Records are now iterable, and the <code class="highlighter-rouge">foreach</code> statement and iterable operations can now be used with records. 
When iterating a record, one can either iterate over the fields (i.e., field name and value) or iterate only over the field values.</p>

<pre><code class="language-ballerina">type Person record {
    string name;
    int age;
    string address;
};
</code></pre>

<p>The <code class="highlighter-rouge">foreach</code> statement can be used with an instance of this record as follows:</p>

<pre><code class="language-ballerina">foreach field, value in person {
    io:println(field + " : " + &lt;string&gt;value);
}
</code></pre>

<p>The <code class="highlighter-rouge">foreach</code> statement can be used to iterate only over the field values as follows:</p>

<pre><code class="language-ballerina">foreach value in person {
    io:println(value);
}
</code></pre>

<h3 id="changes-to-the-main-function">Changes to the “main” Function</h3>

<p>Based on the latest changes, the <code class="highlighter-rouge">main</code> function has to be marked <code class="highlighter-rouge">public</code> and can return an int.</p>

<p>Now it is also possible to execute ballerina <code class="highlighter-rouge">run</code> to invoke any <code class="highlighter-rouge">public</code> function in the entry package.
For example, if you want to invoke the public function <code class="highlighter-rouge">add</code> in the <code class="highlighter-rouge">calculator</code> package, you can execute ballerina <code class="highlighter-rouge">run</code> and specify the integer arguments <code class="highlighter-rouge">4</code> and <code class="highlighter-rouge">5</code> as follows:</p>

<pre><code class="language-cmd">ballerina run calculator:add 4 5
</code></pre>

<p>If a function is not specified, <code class="highlighter-rouge">main</code> is considered as the function to run.</p>

<p>The function invoked via <code class="highlighter-rouge">ballerina run</code> (including the <code class="highlighter-rouge">main</code> function) will be data-binding and can have zero or more parameters of any supported type, including any number of required/defaultable parameters and a single rest parameter. 
This function can also return a value.</p>

<p>For example, consider the following public function in the package <code class="highlighter-rouge">currency</code>:</p>

<pre><code class="language-ballerina">public function queryChanges(string host, int port = 8080, string… params) returns float {

}
</code></pre>
<p>Invoke the function using Ballerina <code class="highlighter-rouge">run</code> as follows:</p>
<pre><code class="language-cmd">ballerina run --printreturn currency:queryChanges localhost -port=8181 high day
</code></pre>
<p>The function invocation results in a value assignment as follows:</p>
<ul>
  <li><code class="highlighter-rouge">host</code> ← <code class="highlighter-rouge">"localhost"</code></li>
  <li><code class="highlighter-rouge">port</code> ← <code class="highlighter-rouge">8181</code></li>
  <li><code class="highlighter-rouge">params</code> ← <code class="highlighter-rouge">["high", "day"]</code></li>
</ul>

<p>When the <code class="highlighter-rouge">--printreturn</code> flag is set, the return value is printed to the standard out stream.</p>

<h3 id="new-documentation-syntax">New Documentation Syntax</h3>

<p>Old syntax:</p>

<pre><code class="language-ballerina">documentation {
    Adds parameter `x` and parameter `y`.
    P one thing to be added
    P another thing to be added
    R the sum of them
}
function add(int x, int y) returns int { return x + y; }
</code></pre>

<p>New syntax:</p>

<pre><code class="language-ballerina"># Adds parameter `x` and parameter `y`.
# + x - one thing to be added
# + y - another thing to be added
# + return - the sum of them
function add(int x, int y) returns int { return x + y; }
</code></pre>

<h3 id="reorder-documentation-in-resources">Reorder Documentation in Resources</h3>

<p>In previous versions, documentation was added after annotation attachments of resources. Now documentation should be added before the annotation attachment.</p>

<p>Old syntax:</p>

<pre><code class="language-ballerina">service&lt;http:Service&gt; update_token bind { port: 9295 } {

    @http:ResourceConfig {
        methods:["GET"]
    }
    # Updates the access token.
    #
    # + caller - Endpoint
    one_px_image(endpoint caller) {

    }
}
</code></pre>

<p>New syntax:</p>

<pre><code class="language-ballerina">service&lt;http:Service&gt; update_token bind { port: 9295 } {

    # Updates the access token.
    #
    # + caller - Endpoint
    @http:ResourceConfig {
        methods:["GET"]
    }
    one_px_image(endpoint caller) {

    }
}
</code></pre>

<h3 id="changes-to-recordobject-field-syntax">Changes to Record/Object Field Syntax</h3>

<p>Old syntax:</p>

<pre><code class="language-ballerina">type foo record {
    string a,
    string b,
};

type bar object {
    string a,
    string b,
};
</code></pre>

<p>New syntax:</p>

<pre><code class="language-ballerina">type foo record {
    string a;
    string b;
};

type bar object {
    string a;
    string b;
};
</code></pre>

<h3 id="new-anonymous-functions-syntax">New Anonymous Functions Syntax</h3>

<p>The syntax of anonymous functions has been changed to resemble normal function definitions.</p>

<p>Old syntax:</p>

<pre><code class="language-ballerina">var lambda = (int b) =&gt; (int) {
    int x = b * b;
    return x;
};
</code></pre>

<p>New syntax:</p>

<pre><code class="language-ballerina">var lambda = function (int b) returns int {
    int x = b * b;
    return x;
};
</code></pre>

<p>A new “Arrow Function Expression” is introduced as a simple alternative to anonymous functions that only have a return statement as the body:</p>

<pre><code class="language-ballerina">function (int, string) returns string lambdaVar = (param1, param2) =&gt; param2.toUpper();
</code></pre>

<h3 id="removal-of-implicit-cast-from-int-to-float">Removal of Implicit Cast from int to float</h3>

<p>Now it is necessary to explicitly define a float with a decimal point.</p>

<pre><code class="language-ballerina">float x = 0; // Compile Error
float x = 0.0; // Working Code
</code></pre>

<h3 id="tracking-tainted-state-changes-of-function-parameters">Tracking Tainted State Changes of Function Parameters</h3>

<p>The taint analyzer keeps track of the tainted state of parameters in different execution conditions. 
This information is used to update the tainted state of the arguments used in a function invocation, and to make sure that the tainted state is propagated correctly when the parameter is an out parameter or an in-out parameter.</p>

<h3 id="optionparam-order-enforcement-with-the-run-command">Option/Param Order Enforcement with the Run Command</h3>

<p>Option vs parameter ordering has been enforced with the Ballerina <code class="highlighter-rouge">run</code> command. All options now need to be specified before the file or package to run.</p>

<p>Any and all arguments specified after the file or package are now considered program arguments.</p>

<p>A config file can be specified with the <code class="highlighter-rouge">run</code> command as follows:</p>
<pre><code class="language-cmd">ballerina run --config myConfig.conf calculator 4 5
</code></pre>

<p>Specifying the <code class="highlighter-rouge">--config</code> argument as follows, after the package <code class="highlighter-rouge">calculator</code> would not result in it being identified as an option:</p>
<pre><code class="language-cmd">ballerina run calculator --config myConfig.conf 4 5
</code></pre>

<h3 id="ballerina-native">Ballerina Native</h3>

<p>The Ballerina Native feature is the introduction of an LLVM-based backend for the Ballerina compiler. It allows Ballerina programs to be compiled into native executables.</p>

<h4 id="prerequisites">Prerequisites</h4>
<ul>
  <li>Unix based (Linux/MacOS) operating system to run the initial version. Other operating systems will be supported in future versions.</li>
  <li>GCC compiler (it is possible to use <code class="highlighter-rouge">clang</code> or <code class="highlighter-rouge">ld</code>. However, the current recommended option is <code class="highlighter-rouge">gcc</code>)</li>
</ul>

<h4 id="supported-language-constructs">Supported language constructs</h4>
<ul>
  <li><code class="highlighter-rouge">main</code> function (arguments are ignored)</li>
  <li><code class="highlighter-rouge">int</code> and <code class="highlighter-rouge">boolean</code> types</li>
  <li><code class="highlighter-rouge">if</code> condition</li>
  <li><code class="highlighter-rouge">while</code> loop</li>
  <li>Function calls and return values</li>
  <li>Partial support for <code class="highlighter-rouge">println</code> for <code class="highlighter-rouge">int</code> values</li>
</ul>

<h4 id="how-to-run">How to run</h4>
<ul>
  <li>
    <p>Build a Ballerina program with the native option
<code class="highlighter-rouge">ballerina build --native -o myballerinamain  myballerinamain.bal</code></p>
  </li>
  <li>
    <p>Run the created executable
<code class="highlighter-rouge">./myballerinamain</code></p>
  </li>
</ul>

<h4 id="command-line-flags">Command line flags</h4>
<p>The following additional options are valid when the <code class="highlighter-rouge">--native</code> option is provided:
<code class="highlighter-rouge">--dump-bir</code> prints the Ballerina intermediate representation
<code class="highlighter-rouge">--dump-llvm-ir</code> prints the LLVM intermediate representation assembly code</p>

<h2 id="standard-library">Standard Library</h2>

<ul>
  <li>Support for HTTP 1.1 pipelining</li>
  <li>Enhanced support for compression/decompression</li>
  <li>Change of status code and reason to be optional parameters for the <code class="highlighter-rouge">close</code> action of the WebSocket endpoint</li>
  <li>Support to directly configure SSL certificates and keys without keystores</li>
  <li>Support to define enum type in gRPC request/response messages</li>
</ul>

<h2 id="build--package-management">Build &amp; Package Management</h2>

<h3 id="mandating-build-on-ballerina-push-and-install">Mandating Build on Ballerina Push and Install</h3>

<p>By default, the sources are built before pushing the package to Ballerina Central and before installing the package in the home repository.</p>

<p>The <code class="highlighter-rouge">--no-build</code> flag could be used to skip building before pushing or installing.</p>
<pre><code class="language-cmd">ballerina push &lt;package-name&gt; --no-build
</code></pre>

<pre><code class="language-cmd">ballerina install &lt;package-name&gt; --no-build
</code></pre>

<h3 id="introduction-of-the-uninstall-command">Introduction of the Uninstall Command</h3>

<p>Packages that are installed in the home repository can now be uninstalled or removed using the <code class="highlighter-rouge">uninstall</code> command.</p>
<pre><code class="language-cmd">ballerina uninstall &lt;org-name&gt;/&lt;package-name&gt;:&lt;version&gt;
</code></pre>

<h2 id="ide-plugins">IDE Plugins</h2>

<ul>
  <li>Diagram editing support in VSCode</li>
  <li>Language Server integration support in IDEA plugin: this results in providing all language intellisense support 
through the Language Server</li>
  <li>Variable definition auto generation code action</li>
  <li>Attached function’s implementation snippet</li>
  <li>Object constructor auto generation code action</li>
</ul>

<h2 id="extensions">Extensions</h2>

<h3 id="kubernetes">Kubernetes</h3>
<ul>
  <li>Support is now introduced for Helm Chart generation</li>
</ul>

<h2 id="performance-results">Performance Results</h2>
<p>From Ballerina 0.982.0 onward, <a href="https://github.com/ballerina-platform/ballerina-lang/blob/v0.982.0/performance/benchmarks/summary.md">a performance test result summary</a> would also be made available with each release.</p>

<h2 id="bug-fixes">Bug Fixes</h2>

<p>Please refer the <a href="https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+milestone%3A0.982.0+is%3Aclosed+label%3AType%2FBug">GitHub milestone</a> to view bug fixes.</p>

<h2 id="getting-started">Getting Started</h2>

<p>You can download the Ballerina distributions, try samples, and read the documentation at https://ballerina.io. 
You can also visit the [Quick Tour] (https://ballerina.io/learn/quick-tour/) to get started. 
We encourage you to report issues, improvements, and suggestions at the <a href="https://github.com/ballerina-platform/ballerina-lang">Ballerina Github Repository</a>.</p>

     </div>
</section>

<section class="cFooter">
   <div class="container ">
      <div class="row">
         
            
    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-left-col cBallerinaFooterLinks">
        <ul>
            <li><a class="cBioFooterLink" href="/downloads">Download</a></li>
            <li><a class="cBioFooterLink" href="https://github.com/ballerina-lang/ballerina/blob/master/LICENSE">Code License</a></li>
            <li><a class="cBioFooterLink" href="/license-of-site">Site License</a></li>
            <li><a class="cBioFooterLink" href="/terms-of-service">TERMS OF SERVICE</a></li>
            <li><a class="cBioFooterLink" href="/privacy-policy">PRIVACY POLICY</a></li>
            </ul>
        </div>
    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-middle-col cBallerinaFooterSignUp">
        <div class="cSocialmedia">
            <ul>
                <li>
                    <a class="cBioFooterLink" href="https://github.com/ballerina-platform" target="_blank"><img src="https://ballerina.io/img/github.svg"></a>
                    </li>
                <li><a class="cBioFooterLink" href="https://stackoverflow.com/questions/tagged/ballerina" target="_blank"><img src="https://ballerina.io/img/stackoverflow.svg"></a></li>
                <li><a class="cBioFooterLink" href="https://twitter.com/ballerinalang" target="_blank"><img src="https://ballerina.io/img/twitter.svg"></a></li>
                <li><a class="cBioFooterLink" href="/community/slack/"><img src="https://ballerina.io/img/slack.svg"></a></li>
                </ul>
            <div class="pdframe"></div>
            </div>
        </div>
    <div class="col-xs-12 col-sm-10 col-md-6 col-lg-6 cBallerina-io-right-col">
        <p>In the creation of Ballerina, we were inspired by so many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub and WSO2.</p></div>
    </div>

        
         
      </div>
   </div>
</section>
         
       
        

    
         
      </div>
   </div>







   

</body>

</html>